<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Ticaret Platformu | Yusuf Akın</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/project-detail.css">
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>YA</text></svg>">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav>
                <div class="logo">
                    <a href="../index.html"><span>Y</span>usuf<span>A</span>kın</a>
                </div>
                <div class="nav-toggle" id="navToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <ul class="nav-menu">
                    <li><a href="../index.html#home" class="nav-link">Ana Sayfa</a></li>
                    <li><a href="../index.html#about" class="nav-link">Hakkımda</a></li>
                    <li><a href="../index.html#skills" class="nav-link">Yetenekler</a></li>
                    <li><a href="../index.html#projects" class="nav-link active">Projeler</a></li>
                    <li><a href="../index.html#contact" class="nav-link">İletişim</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Project Detail -->
    <section class="project-detail section-padding">
        <div class="container">
            <div class="project-header">
                <h1 class="project-title">OrderPayment E-Ticaret Platformu</h1>
                <div class="project-meta">
                    <div class="project-date">
                        <i class="far fa-calendar-alt"></i>
                        <span>Tamamlanma Tarihi: Haziran 2023</span>
                    </div>
                    <div class="project-links">
                        <a href="#" class="btn btn-primary"><i class="fas fa-globe"></i> Canlı Demo</a>
                        <a href="https://github.com/YusufAkin27/OrderPayment" class="btn btn-secondary"><i class="fab fa-github"></i> GitHub</a>
                    </div>
                </div>
            </div>

            <div class="project-showcase">
                <div class="project-gallery">
                    <div class="main-image">
                        <img src="../images/projects/e-ticaret/images (1).jpeg" alt="E-Ticaret Platformu Ana Görsel" class="placeholder-img">
                    </div>
                    <div class="thumbnail-gallery">
                        <div class="thumbnail active">
                            <img src="../images/projects/e-ticaret/images (2).jpeg" alt="E-Ticaret Platformu Görsel 1" class="placeholder-img">
                        </div>
                        <div class="thumbnail">
                            <img src="../images/projects/e-ticaret/images.jpeg" alt="E-Ticaret Platformu Görsel 2" class="placeholder-img">
                        </div>
                        <div class="thumbnail">
                            <img src="../images/projects/e-ticaret/images.webp" alt="E-Ticaret Platformu Görsel 3" class="placeholder-img">
                        </div>
                        <div class="thumbnail">
                            <img src="../images/projects/e-ticaret/cover.jpg" alt="E-Ticaret Platformu Görsel 4" class="placeholder-img">
                        </div>
                    </div>
                </div>
            </div>

            <div class="project-content">
                <div class="project-info">
                    <div class="technologies">
                        <h3>Kullanılan Teknolojiler</h3>
                        <div class="tech-tags">
                            <span>.NET</span>
                            <span>C#</span>
                            <span>ASP.NET MVC</span>
                            <span>Entity Framework</span>
                            <span>Iyzipay</span>
                            <span>Twilio</span>
                            <span>HTML</span>
                            <span>CSS</span>
                            <span>JavaScript</span>
                            <span>Bootstrap</span>
                        </div>
                    </div>
                    
                    <div class="project-description">
                        <h3>Proje Açıklaması</h3>
                        <p>OrderPayment, modern ve güvenli bir e-ticaret deneyimi sunan kapsamlı bir web uygulamasıdır. ASP.NET MVC mimarisi kullanılarak geliştirilen bu platform, kullanıcıların ürünleri kolayca bulmasını, sepete eklemesini ve güvenli ödeme yapmasını sağlar.</p>
                        
                        <p>Projenin en önemli özellikleri arasında Iyzipay entegrasyonu sayesinde güvenli ve hızlı ödeme işlemleri ve Twilio SMS servisi ile sipariş durumu bildirimleri yer almaktadır. Bu entegrasyonlar sayesinde kullanıcılar, ödeme işlemlerini güvenle tamamlayabilir ve siparişlerinin durumu hakkında anında bildirim alabilirler.</p>
                        
                        <p>MVC (Model-View-Controller) mimarisi ve Entity Framework kullanılarak geliştirilen bu proje, sürdürülebilir ve genişletilebilir bir kod yapısına sahiptir. Veritabanı işlemleri için Code First yaklaşımı kullanılmış olup, ürün katalogları, kullanıcı verileri ve sipariş bilgileri güvenli bir şekilde yönetilmektedir.</p>
                    </div>
                    
                    <div class="project-features">
                        <h3>Özellikler</h3>
                        <ul>
                            <li><i class="fas fa-check"></i> ASP.NET MVC mimarisi ile geliştirilmiş modüler yapı</li>
                            <li><i class="fas fa-check"></i> Iyzipay entegrasyonu ile güvenli ödeme işlemleri</li>
                            <li><i class="fas fa-check"></i> Twilio SMS entegrasyonu ile sipariş durumu bildirimleri</li>
                            <li><i class="fas fa-check"></i> Kullanıcı kimlik doğrulama ve yetkilendirme sistemi</li>
                            <li><i class="fas fa-check"></i> Gelişmiş ürün arama ve filtreleme özellikleri</li>
                            <li><i class="fas fa-check"></i> Sepet yönetimi ve sipariş takibi</li>
                            <li><i class="fas fa-check"></i> Responsive tasarım ile tüm cihazlarda uyumluluk</li>
                            <li><i class="fas fa-check"></i> Admin paneli ile ürün ve sipariş yönetimi</li>
                        </ul>
                    </div>
                    
                    <div class="project-challenges">
                        <h3>Zorluklar ve Çözümler</h3>
                        <div class="challenge">
                            <h4>Ödeme Sisteminin Entegrasyonu</h4>
                            <p>Iyzipay ödeme sistemiyle güvenli bir entegrasyon sağlamak bir zorluktu. Bu sorunu çözmek için Iyzipay'in sağladığı SDK'yı kullanarak özel bir ödeme servisi geliştirdim. Bu servis sayesinde, ödeme işlemleri güvenli bir şekilde gerçekleştirilip veritabanına kaydediliyor.</p>
                        </div>
                        <div class="challenge">
                            <h4>SMS Bildirim Sistemi</h4>
                            <p>Sipariş durumlarını gerçek zamanlı olarak bildirmek için Twilio SMS API'sinin entegrasyonu gerekiyordu. Bu zorluğu, ASP.NET'in asenkron programlama yeteneklerini kullanarak ve siparişlerdeki durum değişikliklerini izleyen bir servis geliştirerek çözdüm.</p>
                        </div>
                    </div>
                    
                    <div class="project-code">
                        <h3>Kod Örnekleri</h3>
                        <div class="code-block">
                            <h4>Iyzipay Ödeme İşlemi</h4>
                            <pre><code>
// Iyzipay ödeme işlemi örneği
public IActionResult ProcessPayment(PaymentViewModel model)
{
    try
    {
        // Iyzipay yapılandırması
        Options options = new Options
        {
            ApiKey = _configuration["Iyzipay:ApiKey"],
            SecretKey = _configuration["Iyzipay:SecretKey"],
            BaseUrl = _configuration["Iyzipay:BaseUrl"]
        };

        // Ödeme isteği oluşturma
        CreatePaymentRequest request = new CreatePaymentRequest
        {
            Locale = Locale.TR.ToString(),
            ConversationId = Guid.NewGuid().ToString(),
            Price = model.TotalAmount.ToString(CultureInfo.InvariantCulture),
            PaidPrice = model.TotalAmount.ToString(CultureInfo.InvariantCulture),
            Currency = Currency.TRY.ToString(),
            Installment = 1,
            BasketId = model.OrderId.ToString(),
            PaymentChannel = PaymentChannel.WEB.ToString(),
            PaymentGroup = PaymentGroup.PRODUCT.ToString(),
            PaymentCard = MapPaymentCard(model.CardDetails),
            Buyer = MapBuyer(model.UserDetails),
            ShippingAddress = MapAddress(model.ShippingAddress),
            BillingAddress = MapAddress(model.BillingAddress),
            BasketItems = MapBasketItems(model.OrderItems)
        };

        // Ödeme işlemini gerçekleştirme
        Payment payment = Payment.Create(request, options);

        // Ödeme sonucunu kontrol etme
        if (payment.Status == "success")
        {
            // Sipariş kaydetme ve SMS gönderme
            var orderId = _orderService.CompleteOrder(model.OrderId);
            SendOrderConfirmationSms(model.UserDetails.Phone, orderId);
            
            return RedirectToAction("PaymentSuccess", new { orderId });
        }
        else
        {
            return RedirectToAction("PaymentError", new { errorMessage = payment.ErrorMessage });
        }
    }
    catch (Exception ex)
    {
        _logger.LogError(ex, "Ödeme işlemi sırasında hata oluştu");
        return RedirectToAction("PaymentError", new { errorMessage = "Beklenmeyen bir hata oluştu." });
    }
}
                            </code></pre>
                        </div>
                        
                        <div class="code-block">
                            <h4>Twilio SMS Gönderimi</h4>
                            <pre><code>
// Twilio ile SMS gönderme servisi
public class SmsService : ISmsService
{
    private readonly string _accountSid;
    private readonly string _authToken;
    private readonly string _fromNumber;
    private readonly ILogger<SmsService> _logger;

    public SmsService(IConfiguration configuration, ILogger<SmsService> logger)
    {
        _accountSid = configuration["Twilio:AccountSid"];
        _authToken = configuration["Twilio:AuthToken"];
        _fromNumber = configuration["Twilio:PhoneNumber"];
        _logger = logger;
    }

    public async Task<bool> SendOrderStatusSms(string toPhoneNumber, string orderNumber, string status)
    {
        try
        {
            TwilioClient.Init(_accountSid, _authToken);

            var message = await MessageResource.CreateAsync(
                body: $"Sayın müşterimiz, {orderNumber} numaralı siparişinizin durumu '{status}' olarak güncellenmiştir. Teşekkür ederiz.",
                from: new Twilio.Types.PhoneNumber(_fromNumber),
                to: new Twilio.Types.PhoneNumber(toPhoneNumber)
            );

            _logger.LogInformation($"SMS gönderildi. SID: {message.Sid}");
            return true;
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "SMS gönderimi sırasında hata oluştu");
            return false;
        }
    }
}
                            </code></pre>
                        </div>
                    </div>
                    
                    <!-- Project Files Section -->
                    <div class="project-files">
                        <h3>Proje Dosyaları</h3>
                        <div class="files-container">
                            <div class="uploaded-files">
                                <h4>Mevcut Dosyalar</h4>
                                <ul class="files-list" id="filesList">
                                    <!-- Uploaded files will appear here -->
                                    <li class="no-files">Henüz dosya yüklenmemiş</li>
                                </ul>
                            </div>
                            
                            <div class="file-upload">
                                <h4>Dosya Yükle</h4>
                                <form id="uploadForm" class="upload-form">
                                    <div class="upload-area">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                        <p>Dosyalarınızı buraya sürükleyin veya seçin</p>
                                        <input type="file" id="fileInput" name="files" multiple class="file-input">
                                        <button type="button" class="select-files-btn">Dosya Seç</button>
                                    </div>
                                    <div class="selected-files" id="selectedFiles">
                                        <!-- Selected files will appear here -->
                                    </div>
                                    <button type="submit" class="btn btn-primary upload-btn">Yükle</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="project-navigation">
                    <a href="ai-chatbot-uygulamasi.html" class="nav-item next">
                        <span>Sonraki Proje</span>
                        <h4>AI Chatbot Uygulaması <i class="fas fa-arrow-right"></i></h4>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="../index.html"><span>Y</span>usuf<span>A</span>kın</a>
                </div>
                <p class="footer-text">&copy; <span id="currentYear"></span> Yusuf Akın. Tüm hakları saklıdır.</p>
                <div class="footer-social">
                    <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                    <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Back to Top Button -->
    <button id="backToTop" class="back-to-top" aria-label="Back to Top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- JavaScript -->
    <script src="../js/main.js"></script>
    <script src="../js/project-detail.js"></script>
    <script>
        // Ensure about section is visible when link is clicked
        document.addEventListener('DOMContentLoaded', function() {
            const aboutLink = document.querySelector('a[href="../index.html#about"]');
            if (aboutLink) {
                aboutLink.addEventListener('click', function(e) {
                    // Store a flag in sessionStorage to indicate the about section should be shown
                    sessionStorage.setItem('showAboutSection', 'true');
                });
            }
        });
    </script>
</body>
</html> 